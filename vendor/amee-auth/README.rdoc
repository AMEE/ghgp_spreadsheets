The AMEE Auth gem provides authentication and authorisation functionality that can be dropped into an app as part of the AMEE AppKit framework.

Installation
------------

Add the gem to your Bundler file:

  gem "amee-auth"

Create a migration to add the users table:

  rails g amee_auth

Then create a User class that inherits from AMEE::Auth::User  This includes all the user creation and password functionality that is required in a User class. 


Usage
-----

The gem provides current_user and logged_in? methods for use in controller and views.  The filter :login_required can be used in controllers to ensure a user is logged in before accessing a resource.  If they are not it will redirect to the login page and then back to the originally requested resource once login is complete.

Upon a successful login the gem redirects the user to root_path  This will become a configuration option in a future release.


Notification Emails
-------------------

To send a welcome email upon registration create a user observer and send the email on creation.  For password resets create a UserMailer with a method called reset_password.  This method is passed the user that the password is being reset for and you should send an appropriate email to the user.  The URL for the reset can be generated by:

  edit_password_reset_url(user.perishable_token, :host => YOUR_HOST)
  
In a future release this will become a configuration option.